<mat-card>
  <mat-card-title>Lista de notas lançadas</mat-card-title>
  <mat-card-content>

    <div class="msg" *ngIf="dataSource.data.length === 0">
      <span>Nenhuma nota lançada.</span>
    </div>

    <div class="tabela" *ngIf="dataSource.data.length > 0">
      <mat-form-field appearance="standard">
        <mat-label>Filtro</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Ex. teste" #input>
      </mat-form-field>

      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8">


        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>LOTE</th>
          <td mat-cell *matCellDef="let item"> {{item.id}} </td>
        </ng-container>


        <ng-container matColumnDef="data_lote">
          <th mat-header-cell *matHeaderCellDef> DATA LOTE </th>
          <td mat-cell *matCellDef="let item"> {{item.data_lote | date: 'dd/MM/yyyy - EEEE'}} </td>
        </ng-container>


        <ng-container matColumnDef="data_entrega_contas">
          <th mat-header-cell *matHeaderCellDef> DATA ENTREGUE CONTAS </th>
          <td mat-cell *matCellDef="let item">
            {{(item.data_entrega_contas) ? (item.data_entrega_contas | date: 'dd/MM/yyyy - EEEE'): '-'}} </td>
        </ng-container>


        <ng-container matColumnDef="data_vencimento">
          <th mat-header-cell *matHeaderCellDef> VENCIMENTO </th>
          <td mat-cell *matCellDef="let item">
            {{(item.data_vencimento) ? (item.data_vencimento | date: 'dd/MM/yyyy - EEEE'): '-'}} </td>
        </ng-container>

        <ng-container matColumnDef="valor">
          <th mat-header-cell *matHeaderCellDef> VALOR </th>
          <td mat-cell *matCellDef="let item"> {{item.valor | currency: 'BRL'}} </td>
        </ng-container>

        <ng-container matColumnDef="acao">
          <th mat-header-cell *matHeaderCellDef> </th>
          <td mat-cell *matCellDef="let item">
            <button mat-icon-button (click)="detalhesLote(item)">
              <mat-icon class="icon">manage_search</mat-icon>
            </button>
            <button mat-icon-button>
              <mat-icon class="icon">download</mat-icon>
            </button>
            <button mat-icon-button>
              <span class="material-symbols-outlined">
                file_open
              </span>
            </button>
            <button mat-icon-button (click)="dialogDeletarNotas(item)">
              <mat-icon color="warn" class="icon">delete</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>


        <tr class="mat-row" *matNoDataRow>
          <td class="mat-cell" [attr.colspan]="displayedColumns.length">Nenhuma informação encontrada para:
            "{{input.value}}"</td>
        </tr>
      </table>

    </div>

  </mat-card-content>

</mat-card>
